<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Learn - three.js</title>
    <link rel="stylesheet" href="about_tech_styles.css" />
    <link href="https://fonts.googleapis.com/css2?family=Kumbh+Sans:wght@400;700&display=swap" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-1.10.2.js"></script>
    <script>
        window.addEventListener("scroll", function(){
            if(window.scrollY==0){
                //user is at the top of the page; no need to show the back to top button
                $(".scroll-animation").show();
            } else {
                $(".scroll-animation").hide(500, "linear")
            }
        });
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.2.5/gsap.min.js"></script>
</head>
<body>
    <!-- Nav Section-->
    <nav class="navbar">
        <div class="navbar__container">
            <a href="/index.html" id="navbar__logo">Home</a>
            <div class="navbar__toggle" id="mobile-menu">
                <span class="bar"></span>
                <span class="bar"></span>
                <span class="bar"></span>
            </div>
            <ul class="navbar__menu">
                
                <li class="navbar__item">
                    <a href="./about_tech.html" class="navbar__links"> Learn </a>
                </li>
                <li class="navbar__item">
                    <a href="./tutorial.html" class="navbar__links"> Watch Tutorial </a>
                </li>
                <li class="navbar__item">
                    <a href="./links.html" class="navbar__links"> Get Inspired </a>
                </li>
                <li class="navbar__item">
                    <a href="./critique.html" class="navbar__links"> Read More </a>
                </li>
                <li class="navbar__item">
                    <a href="./about.html" class="navbar__links"> About Site </a>
                </li>
                <!-- <li class="navbar__btn">
                    <a href="https://threejs.org/" target="_blank" class="button">threejs.org</a>
                </li> -->
            </ul>
        </div>
    </nav>

    <!-- Scroll Animation -->
    <div class="scroll-animation">
        <a href="#services" class="scroll-down">
            <div class="mouse">
                <span></span>
            </div>
            <div class="arrow">
                <span></span>
            </div>
        </a>
    </div>
    <!-- End Scroll Animation -->

    <!-- Torus Animation -->
    <script src="./js/three.js"></script>
    <div id="torus-animation">
        <script>
            const scene = new THREE.Scene();
            const camera = new THREE.PerspectiveCamera( 45, window.innerWidth / window.innerHeight, 1, 10000 );
            camera.position.setZ(3);
            
            let container = document.getElementById('torus-animation')
            document.body.appendChild( container );
            document.addEventListener('mousemove', animateStars)

            const renderer = new THREE.WebGLRenderer();
            // renderer.setSize( window.innerWidth * .992 , window.innerHeight * .992);
            renderer.setSize( window.innerWidth, window.innerHeight);
            renderer.setClearColor(new THREE.Color('#131313'))
            container.appendChild( renderer.domElement );
            let mouseX = 0;
            let mouseY = 0;
            function animateStars(event) {
                mouseX = event.clientX
                mouseY = event.clientY
                particlesMesh.rotation.y = -mouseX  * 0.0005
                particlesMesh.rotation.x = -mouseY  * 0.0005
                face.rotation.y = -mouseX * 0.005
                face.rotation.z = -mouseY * 0.005
            }
            const loader = new THREE.TextureLoader();
            const star = loader.load('./images/star.png');
            const face_geometry = new THREE.TorusKnotGeometry(0.5, 0.15);
            const starsGeometry = new THREE.BufferGeometry;
            const particlesCnt = 5000;
            const posArray = new Float32Array(particlesCnt * 3)
            for (let i = 0; i < particlesCnt * 3; i++) {
                posArray[i] = (Math.random() - 0.5) * 5
            }
            starsGeometry.setAttribute('position', new THREE.BufferAttribute(posArray, 3))
            const face_material = new THREE.ShaderMaterial( {
                uniforms: {
                    color1: {
                        value: new THREE.Color("purple")
                    },
                    color2: {
                        value: new THREE.Color("red")
                    }
                },
                vertexShader: `
                    varying vec2 vUv;

                    void main() {
                    vUv = uv;
                    gl_Position = projectionMatrix * modelViewMatrix * vec4(position,1.0);
                    }
                `,
                fragmentShader: `
                    uniform vec3 color1;
                    uniform vec3 color2;
                
                    varying vec2 vUv;
                    
                    void main() {
                    
                    gl_FragColor = vec4(mix(color1, color2, vUv.y), 1.0);
                    }
                `,
                wireframe: true
            });
            const particlesMaterial = new THREE.PointsMaterial( {
                size: 0.03,
                map: star,
                transparent: true, 
                blending: THREE.AdditiveBlending
            });
            const particlesMesh = new THREE.Points(starsGeometry, particlesMaterial)
            const face = new THREE.Mesh(face_geometry, face_material);
            
            face.position.y = 0.2;
            face.position.x = 1;
            face.rotation.y = -0.8;
            
            scene.add(face, particlesMesh);

            const pointLight = new THREE.PointLight(0xffffff, 1);
            pointLight.position.x = -2;
            pointLight.position.y = 1.3;
            pointLight.position.z = 1;
            scene.add(pointLight)
            const clock = new THREE.Clock();
            function animate() {
                const elapsedTime = clock.getElapsedTime()
                requestAnimationFrame( animate );
                renderer.setSize( window.innerWidth, window.innerHeight);
                renderer.render( scene, camera );
            };
            animate();
        </script>
    </div>
    <!-- End Torus Animation -->

    <!-- Hero Section -->
    <div class="main">
        <div class="main__container">
            <div class="main__content">
                <h1>THREE.JS</h1>
                <h2>A Modern Javascript Library</h2>
                <p>Add another dimension to your coding life.</p>
                <button class="main__btn"><a href="/">Get Started</a></button>
            </div>
            <div class="main__img--container">
                <!-- <img src="images/pair_programming.svg" alt="pic" id="main__img"> -->
            </div>
        </div>
    </div>

    <!-- Services Section -->
    <div class="services" id="services">
        <h1>What's the hype?</h1>
        <div class="services__container">
            <div class="services__card">
                <h2>Experience More</h2>
                <p>With 3-D Powered Technology</p>
                <button>Get Started</button>
            </div>
            <div class="services__card">
                <h2>Take the leap</h2>
                <p>Dive deeper into a world of projects</p>
                <button onclick="location.href='https://threejs.org'">Get Started</button>
            </div>
        </div>
    </div>

    <!-- Footer Section -->
    <footer>
        <div class="footer__container">
            <div class="footer__links">
                <div class="footer__link--wrapper">
                    <div class="footer__link--items">
                        <h2>Inspiring Sites</h2>
                        <a href="https://billie.withyoutube.com/" target="_blank"><i>BILLIE EILISH</i></a>
                        <a href="https://cloud.withgoogle.com/infrastructure" target="_blank">Google Cloud</a>
                        <a href="https://www.aquarium.ru/en"  target="_blank">Aquarium.ru</a>
                    </div>
                    <div class="footer__link--items">
                        <h2>Community</h2>
                        <a href="https://github.com/mrdoob/three.js/releases" target="_blank">Three.js GitHub</a>
                        <a href="https://threejs.org/manual/#en/fundamentals">Learn</a>
                        <a href="https://discord.gg/HF4UdyF">Discord</a>
                        <a href="https://twitter.com/threejs">Twitter</a>
                    </div>
                </div>
                <!-- <div class="footer__link--wrapper">
                    <div class="footer__link--items">
                        <h2>About Us</h2>
                        <a href="/">How it works</a>
                        <a href="/">Testimonials</a>
                        <a href="/">Careers</a>
                        <a href="/">Investments</a>
                        <a href="/">Terms of Services</a>
                    </div>
                    <div class="footer__link--items">
                        <h2>About Us</h2>
                        <a href="/">How it works</a>
                        <a href="/">Testimonials</a>
                        <a href="/">Careers</a>
                        <a href="/">Investments</a>
                        <a href="/">Terms of Services</a>
                    </div>
                </div> -->
            </div>
            <div class="social__media">
                <div class="social__media--wrap">
                    <!-- <div class="footer__logo">
                        <a href="/" id="footer__logo">Author: Rahul R</a>
                    </div> -->
                    <p class="website__rights">By Rahul Ravi, undergraduate @ UCSD.</p>
                    <!-- <div class="social__icons">
                        <a href="/" class="social__icon--link">
                        
                        </a>
                    </div> -->
                </div>
            </div>
        </div>
    </footer>

    <script src="app.js"></script>

    <!-- Landing Animation Conent -->
    <!-- <div class="overlay">
        <div class="layer layer-1"></div>
        <div class="layer layer-2"></div>
        <div class="layer layer-3"></div>
    </div> -->
    <script>
        // gsap.to('.layer-1', {y: '-100vh', delay:1})
        // gsap.to('.layer-2', {y: '-100vh', delay:1.3})
        // gsap.to('.layer-3', {y: '-100vh', delay:1.6})
        // gsap.to('.overlay', {y: '-100vh', delay:1.6})

        // gsap.fromTo('.main__content', 
        //     {x: '30rem', opacity: 0},
        //     {x: 0, opacity: 1, ease: 'back.out(.3)', delay: 2.2}
        // )
        // gsap.fromTo('#torus-animation', 
        //     {x: '-30rem', opacity: 0},
        //     {x: 0, opacity: 1, ease: 'back.out(.3)', delay: 1.7}
        // )
    </script>
    <!-- End Landing Animation Content -->
    
</body>
</html>